package office.supplies;


import org.junit.jupiter.api.BeforeAll;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

import static org.hamcrest.CoreMatchers.equalTo;
import static org.hamcrest.CoreMatchers.not;
import static org.hamcrest.MatcherAssert.assertThat;
import static org.hamcrest.core.StringContains.containsString;

class PenTest {

	private Pen pen;

	@BeforeEach
	void init() {
		pen = new Pen(Pen.Colors.BLUE, "PILOT", "BPGP-10R-F-L", 10.72);
	}

	@Test
	void getPrice() throws Exception {
		assertThat("Wrong getter detected!", pen.getPrice(), equalTo(pen.price));
	}

	@Test
	void toStringTest() throws Exception {
		String result = pen.toString();
		assertThat(result, containsString(pen.brand));
		assertThat(result, containsString(pen.model));
		assertThat(result, containsString(pen.color.toString()));
		assertThat(result, containsString(String.valueOf(pen.price)));
	}

	@Test
	void equals() throws Exception {
		Pen equalPen = new Pen(Pen.Colors.BLUE, "PILOT", "BPGP-10R-F-L", 10.72);
		Pen anotherPen = new Pen(Pen.Colors.BLACK, "PILOT", "", 24.53);
		assertThat(pen, equalTo(pen));
		assertThat(pen, equalTo(equalPen));
		assertThat(equalPen, equalTo(pen));
		assertThat(pen, not(equalTo(anotherPen)));
		assertThat(anotherPen, not(equalTo(pen)));
	}

	@Test
	void hashCodeTest() throws Exception {
		Pen equalPen = new Pen(Pen.Colors.BLUE, "PILOT", "BPGP-10R-F-L", 10.72);
		assertThat(pen.hashCode(), equalTo(equalPen.hashCode()));
	}

}
